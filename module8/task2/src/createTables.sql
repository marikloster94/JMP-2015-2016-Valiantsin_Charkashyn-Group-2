CREATE TABLE person (id int IDENTITY, name varchar(50) NOT NULL, surname varchar(50) NOT NULL, dateOfBirth varchar(50) NOT NULL, passportNumber varchar(50) NOT NULL );
COMMIT;
CREATE TABLE currency ( idCurrency int IDENTITY, shortName varchar(50) NOT NULL);
COMMIT;
CREATE TABLE account (id int IDENTITY, description varchar(225) NOT NULL, startDate varchar(50) NOT NULL, endDate varchar(50) NOT NULL, idPerson int NOT NULL, accountValue double NOT NULL, idCurrency int NOT NULL);
COMMIT;
CREATE TABLE exchangeRate ( id int IDENTITY, exchangeDay varchar(50) NOT NULL, idCurrencyFrom int NOT NULL, idCurrencyTo int NOT NULL, rate double NOT NULL);
COMMIT;
CREATE TABLE exchangeTicket ( id int IDENTITY, idPerson int NOT NULL, idCurrencyFrom int NOT NULL, idCurrencyTo int NOT NULL, status varchar(50) NOT NULL, toCurrAmount double NOT NULL);
COMMIT;
ALTER TABLE account ADD FOREIGN KEY (idPerson) REFERENCES person (id);
ALTER TABLE account ADD FOREIGN KEY (idCurrency) REFERENCES currency (idCurrency);
COMMIT;
ALTER TABLE exchangeRate ADD FOREIGN KEY (idCurrencyFrom) REFERENCES currency (idCurrency);
ALTER TABLE exchangeRate ADD FOREIGN KEY (idCurrencyTo) REFERENCES currency (idCurrency);
COMMIT;
ALTER TABLE exchangeTicket ADD FOREIGN KEY (idCurrencyFrom) REFERENCES currency (idCurrency);
ALTER TABLE exchangeTicket ADD FOREIGN KEY (idCurrencyTo) REFERENCES currency (idCurrency);
ALTER TABLE exchangeTicket ADD FOREIGN KEY (idPerson) REFERENCES person (id);
COMMIT;
INSERT INTO currency (idCurrency, shortName) VALUES (1, 'USD');
INSERT INTO currency (idCurrency, shortName) VALUES (2, 'EUR');
INSERT INTO currency (idCurrency, shortName) VALUES (3, 'BYR');
COMMIT;
INSERT INTO person (id, name, surname, dateOfBirth, passportNumber) VALUES (1, 'Ivan', 'Petrov', '12/02/1980', 'MC2341234' );
INSERT INTO person (id, name, surname, dateOfBirth, passportNumber) VALUES (2, 'Oksana', 'Voronko', '19/11/1968', 'MC7798651' );
INSERT INTO person (id, name, surname, dateOfBirth, passportNumber) VALUES (3, 'NIkolai', 'Egenkoy', '12/02/1976', 'MC2345674' );
COMMIT;

INSERT INTO account (id, description, startDate, endDate, idPerson, accountValue, idCurrency) VALUES (1, 'Deposit USD', '12/02/2015', '12/02/2016', 1, 3450, 1);
INSERT INTO account (id, description, startDate, endDate, idPerson, accountValue, idCurrency) VALUES (2, 'Deposit EUR', '12/01/2016', '12/10/2016', 2, 5500, 2);
INSERT INTO account (id, description, startDate, endDate, idPerson, accountValue, idCurrency) VALUES (3, 'Deposit EUR (bank)', '12/01/2016', '12/10/2020', 3, 10000, 2);
INSERT INTO account (id, description, startDate, endDate, idPerson, accountValue, idCurrency) VALUES (4, 'Deposit USD (bank)', '12/01/2016', '12/10/2020', 3, 15000, 1);
INSERT INTO account (id, description, startDate, endDate, idPerson, accountValue, idCurrency) VALUES (5, 'Deposit BYR (bank)', '12/01/2016', '12/10/2020', 3, 550000000000, 3);

COMMIT;
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (1, '08/02/2016', 4.42E-5, 3, 1);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (2, '09/02/2016', 4.40E-5, 3, 1);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (3, '08/02/2016', 4.08E-5, 3, 2);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (4, '09/02/2016', 4.10E-5, 3, 2);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (5, '08/02/2016', 0.8921, 1, 2);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (6, '08/02/2016', 1.109, 2, 1);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (7, '09/02/2016', 0.9, 1, 2);
INSERT INTO exchangeRate (id, exchangeDay, rate, idCurrencyFrom, idCurrencyTo) VALUES (8, '09/02/2016', 1.106, 2, 1);

COMMIT;
INSERT INTO exchangeTicket (id, toCurrAmount, idPerson, idCurrencyFrom, idCurrencyTo, status) VALUES (1, 200, 1, 1, 2, 'new');
INSERT INTO exchangeTicket (id, toCurrAmount, idPerson, idCurrencyFrom, idCurrencyTo, status) VALUES (2, 230, 1, 1, 2, 'new');
INSERT INTO exchangeTicket (id, toCurrAmount, idPerson, idCurrencyFrom, idCurrencyTo, status) VALUES (3, 100, 1, 1, 2, 'new');
INSERT INTO exchangeTicket (id, toCurrAmount, idPerson, idCurrencyFrom, idCurrencyTo, status) VALUES (4, 200, 1, 1, 2, 'new');
INSERT INTO exchangeTicket (id, toCurrAmount, idPerson, idCurrencyFrom, idCurrencyTo, status) VALUES (5, 400, 2, 2, 1, 'new');
INSERT INTO exchangeTicket (id, toCurrAmount, idPerson, idCurrencyFrom, idCurrencyTo, status) VALUES (6, 150, 2, 2, 1, 'new');